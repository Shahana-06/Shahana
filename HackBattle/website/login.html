<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Insight Lens — Login</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <style>
    body {
      margin:0;
      min-height:100vh;
      background:linear-gradient(180deg,#050b18,#081226);
      color:#e6eef6;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto;
      display:flex;
      flex-direction:column;
      align-items:center;
    }
    .card {
      background:rgba(255,255,255,0.03);
      border-radius:14px;
      padding:32px;
      max-width:480px;
      width:100%;
      margin:20px auto;
    }
    h1 { font-size:46px; margin-bottom:10px; text-align:center; }
    input {
      background:transparent;
      border:1px solid rgba(255,255,255,0.06);
      padding:12px;
      border-radius:8px;
      color:inherit;
      width:100%;
      margin-bottom:12px;
    }
    button {
      background:linear-gradient(90deg,#60a5fa,#5eead4);
      color:#052039;
      padding:12px 16px;
      border-radius:10px;
      border:none;
      cursor:pointer;
      font-weight:600;
      flex:1;
    }
    button:hover { opacity:0.9; }
    #err { color:#ffb4b4; margin-top:10px; }
    .info-section {
      background:rgba(255,255,255,0.02);
      border-top:1px solid rgba(255,255,255,0.08);
      padding:60px 40px;
      width:100%;
      margin-top:40px;
    }
    .info-grid {
      max-width:1100px;
      margin:0 auto;
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:40px;
    }
    @media(max-width:900px){
      .info-grid { grid-template-columns:1fr; }
    }
  </style>
</head>
<body>
  <!-- Title + tagline -->
  <div style="margin-top:40px;text-align:center">
    <h1>Insight Lens</h1>
    <p style="color:#93a0b3">Sign in to start monitoring your applications.</p>
  </div>

  <!-- Login Form -->
  <div class="card">
    <input id="email" placeholder="Email" type="email"/>
    <input id="password" placeholder="Password" type="password"/>
    <div style="display:flex;gap:12px;margin-top:6px">
      <button onclick="login()">Login</button>
      <button onclick="goToRegister()">Register</button>
    </div>
    <p id="err"></p>
  </div>

  <!-- Info About App -->
  <div class="info-section">
    <div class="info-grid">
      <div>
        <h2>Why Insight Lens?</h2>
        <p style="color:#93a0b3;margin-bottom:20px">
          <strong>Insight Lens</strong> is an AI-powered monitoring tool for developers and teams who want 
          <em>production-aware insights</em>. It goes beyond simple uptime checks.
        </p>
        <ul style="list-style:disc;margin-left:20px;color:#93a0b3">
          <li>Collect metrics, traces, and logs seamlessly.</li>
          <li>Run PageSpeed + AI scans for performance.</li>
          <li>Get personalized recommendations to improve speed & stability.</li>
          <li>Track historical trends to spot regressions early.</li>
          <li>Monitor server health and API uptime in real-time.</li>
        </ul>
      </div>
      <div>
        <h2>What You’ll Get</h2>
        <ul style="list-style:disc;margin-left:20px;color:#93a0b3">
          <li>Dashboard with key performance metrics</li>
          <li>Insights on bottlenecks and weak spots</li>
          <li>AI-powered recommendations for optimization</li>
          <li>Beautiful charts and traffic analysis</li>
          <li>Alerts and predictive analytics</li>
        </ul>
      </div>
    </div>
  </div>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyA6gK_ueYde6YDbElQILh-OytSDdsNs38E",
    authDomain: "insightlens-8898b.firebaseapp.com",
    projectId: "insightlens-8898b",
    appId: "1:473621063845:web:8d2f9df0efa8c6491c854c"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  async function login(){
    const e = document.getElementById('email').value.trim();
    const p = document.getElementById('password').value.trim();
    const errMsg = document.getElementById('err');
    if(!e || !p){
      errMsg.innerText = "Please enter both email and password.";
      return;
    }
    try {
      await auth.signInWithEmailAndPassword(e,p);
      location.href = 'dashboard.html';
    } catch(err){
      switch(err.code){
        case "auth/invalid-email":
          errMsg.innerText = "The email address is badly formatted.";
          break;
        case "auth/user-not-found":
          errMsg.innerText = "No account found with this email.";
          break;
        case "auth/wrong-password":
          errMsg.innerText = "Incorrect password. Please try again.";
          break;
        case "auth/too-many-requests":
          errMsg.innerText = "Too many failed attempts. Please try again later.";
          break;
        default:
          errMsg.innerText = "Login failed. Please check your credentials and try again.";
      }
    }
  }
  function goToRegister(){
    location.href = 'register.html';
  }
</script>
</body>
</html>
